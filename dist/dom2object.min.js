/* Copyright 2023 Carlos A. (https://github.com/dealfonso); License: https://opensource.org/license/mit/ */
(function(e,a){function u(i,r=false){if(typeof i==="string"){i=a.querySelector(i)}if(i.children!==undefined){if(i.children.length===undefined||i.children.length==0){return i}}const t=e=>(e.id===undefined||e.id==""||e.id===null)&&(e.name===undefined||e.name==""||e.name===null);const l=e=>e===undefined||e==""||e===null;let f={};function o(e){f={};let n=[];for(let e of Array.from(i.children)){if(!t(e)){if(!l(e.id)){if(e.id in f){console.warn(`element already has a property named ${e.id}`)}else{f[e.id]=u(e,r)}}if(!l(e.name)&&e.name!==e.id){if(e.name in f){console.warn(`element already has a property named ${e.name}`)}else{f[e.name]=u(e,r)}}}else{if(r){n.push(e)}}}if(r){for(let e of n){if(e.children.length>0){let n=u(e,true);for(let e of n._childrenNames){if(e in f){console.warn(`element already has a property named ${e}`);continue}f[e]=n[e]}}}}e._el=i;e._children=Object.fromEntries(Object.entries(f).map(([e,n])=>[e,n._el]));e._childrenNames=Object.keys(f)}var d=new Proxy(i,{get:function(e,n){if(n in f){return f[n]}if(typeof e[n]==="function"){return e[n].bind(e)}return e[n]},set:function(e,n,i){if(n in f){f[n]=i}else{e[n]=i;if(!d.hasOwnProperty(n)){o(d)}}}});o(d);return d}u.multiple=function(n,i=false){if(typeof n==="string"){n=a.querySelectorAll(n)}let r=[];for(let e of n){if(typeof e==="string"){r=[...r,...u.multiple(e,i)]}else{r.push(u(e,i))}}return r};u.version="0.9.0";e.DOM2Object=u})(window,document);
