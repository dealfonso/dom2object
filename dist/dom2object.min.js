/* Copyright 2023 Carlos A. (https://github.com/dealfonso); License: https://opensource.org/license/mit/ */
(function(e){"use strict";function a(i,t=false){if(typeof i==="string"){i=document.querySelector(i)}if(i.children!==undefined){if(i.children.length===undefined||i.children.length==0){return i}}const r=e=>(e.id===undefined||e.id==""||e.id===null)&&(e.name===undefined||e.name==""||e.name===null);const l=e=>e===undefined||e==""||e===null;let f={};function o(e){f={};let n=[];for(let e of Array.from(i.children)){if(!r(e)){if(!l(e.id)){if(e.id in f){console.warn(`element already has a property named ${e.id}`)}else{f[e.id]=a(e,t)}}if(!l(e.name)&&e.name!==e.id){if(e.name in f){console.warn(`element already has a property named ${e.name}`)}else{f[e.name]=a(e,t)}}}else{if(t){n.push(e)}}}if(t){for(let e of n){if(e.children.length>0){let n=a(e,true);for(let e of n._childrenNames){if(e in f){console.warn(`element already has a property named ${e}`);continue}f[e]=n[e]}}}}e._el=i;e._children=Object.fromEntries(Object.entries(f).map(([e,n])=>[e,n._el]));e._childrenNames=Object.keys(f)}var d=new Proxy(i,{get:function(e,n){if(n in f){return f[n]}if(typeof e[n]==="function"){return e[n].bind(e)}return e[n]},set:function(e,n,i){if(n in f){f[n]=i}else{e[n]=i;if(!d.hasOwnProperty(n)){o(d)}}return true}});o(d);return d}a.multiple=function(n,i=false){if(typeof n==="string"){n=document.querySelectorAll(n)}let t=[];for(let e of n){if(typeof e==="string"){t=[...t,...a.multiple(e,i)]}else{t.push(a(e,i))}}return t};a.version="0.9.1";window.DOM2Object=a})(window);
